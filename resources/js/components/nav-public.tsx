"use client";

import { type SharedData } from "@/types";
import { useState } from "react";
import { Dialog, DialogPanel } from "@headlessui/react";
import { Bars3Icon, XMarkIcon } from "@heroicons/react/24/outline";
import { usePage, Link } from "@inertiajs/react";
const navigation = [
    { name: "Product", href: "#" },
    { name: "Features", href: "#" },
    { name: "Marketplace", href: "#" },
    { name: "Company", href: "#" },
];

export function NavPublic() {
    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    const { auth } = usePage<SharedData>().props;

    return (
        <header className="absolute inset-x-20 top-0 z-50">
            <nav
                aria-label="Global"
                className="flex items-center justify-between p-6 lg:px-8"
            >
                <div className="flex lg:flex-1">
                    <a href="#" className="-m-1.5 p-1.5">
                        <span className="sr-only">Metisio</span>
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 138 129"
                            className="h-12 w-auto"
                        >
                            <path
                                fill="#F2BC79"
                                d="M137.979 63.294c0 18.328-6.33 33.671-18.988 46.032-12.659 11.934-29.115 17.901-49.369 17.901-20.253 0-36.92-5.754-50.001-17.262C6.54 98.031 0 82.9 0 64.573 0 46.245 6.33 30.9 18.988 18.54 31.647 6.18 48.103 0 68.356 0c20.254 0 36.921 5.967 50.002 17.901 13.081 11.934 19.621 27.065 19.621 45.393Z"
                            />
                            <mask
                                id="a"
                                width="97"
                                height="67"
                                x="19.95"
                                y="61.912"
                                fill="#000"
                                maskUnits="userSpaceOnUse"
                            >
                                <path
                                    fill="#fff"
                                    d="M19.95 61.912h97v67h-97z"
                                />
                                <path
                                    fill-rule="evenodd"
                                    d="M39.579 122.052a91.492 91.492 0 0 0-.264-5.357c0-2.455-.204-4.399-.612-5.831-.408-1.637-1.02-2.864-1.837-3.682-.816-1.023-1.836-1.944-3.06-2.762l-8.877-5.217c-1.632-1.023-2.754-1.841-3.366-2.455-.409-.614-.613-2.046-.613-4.296V89.69l.613-3.069c18.654-.599 33.356-3.312 46.814-22.709 13.46 19.397 28.152 20.576 46.806 21.175l.612 3.068v2.762c0 2.25-.204 3.683-.612 4.296-.612.614-1.734 1.433-3.367 2.456l-8.876 5.216c-1.224.819-2.244 1.739-3.06 2.762-.817.819-1.429 2.046-1.837 3.683-.408 1.432-.612 3.375-.612 5.83-.174 2.086-.245 4.615-.263 7.587-8.232 2.987-17.413 4.48-27.546 4.48-11.09 0-21.104-1.725-30.043-5.175Z"
                                    clip-rule="evenodd"
                                />
                            </mask>
                            <path
                                fill="#000"
                                fill-rule="evenodd"
                                d="M39.579 122.052a91.492 91.492 0 0 0-.264-5.357c0-2.455-.204-4.399-.612-5.831-.408-1.637-1.02-2.864-1.837-3.682-.816-1.023-1.836-1.944-3.06-2.762l-8.877-5.217c-1.632-1.023-2.754-1.841-3.366-2.455-.409-.614-.613-2.046-.613-4.296V89.69l.613-3.069c18.654-.599 33.356-3.312 46.814-22.709 13.46 19.397 28.152 20.576 46.806 21.175l.612 3.068v2.762c0 2.25-.204 3.683-.612 4.296-.612.614-1.734 1.433-3.367 2.456l-8.876 5.216c-1.224.819-2.244 1.739-3.06 2.762-.817.819-1.429 2.046-1.837 3.683-.408 1.432-.612 3.375-.612 5.83-.174 2.086-.245 4.615-.263 7.587-8.232 2.987-17.413 4.48-27.546 4.48-11.09 0-21.104-1.725-30.043-5.175Z"
                                clip-rule="evenodd"
                            />
                            <path
                                fill="#000"
                                d="m20.95 89.69-.49-.098-.01.048v.05h.5Zm.5 2.762V89.69h-1v2.762h1Zm-.01-2.664.613-3.07-.98-.195-.613 3.069.98.196Zm18.139 32.264-1 .024.016.668.624.241.36-.933Zm-.264-5.357h-1v.041l.003.042.997-.083Zm-.612-5.831-.97.242.004.016.004.016.962-.274Zm-1.837-3.682-.781.623.034.044.04.039.707-.706Zm-3.06-2.762.555-.832-.024-.016-.025-.014-.506.862Zm-8.877-5.217-.53.847.011.008.013.007.506-.862Zm-3.366-2.455-.833.554.055.082.07.07.708-.706Zm-.613-7.058-.98-.196-.02.097v.099h1Zm.613-3.069-.032-1-.794.026-.155.778.98.196Zm46.814-22.709.822-.57-.822-1.184-.821 1.184.822.57Zm46.806 21.175.981-.196-.155-.778-.794-.026-.032 1Zm.612 3.068h1v-.098l-.019-.097-.981.195Zm-.612 7.058.708.707.07-.07.055-.083-.833-.553Zm-3.367 2.456.507.862.012-.008.012-.007-.531-.848Zm-8.876 5.216-.506-.862-.025.015-.024.016.555.831Zm-3.06 2.762.708.706.039-.039.034-.043-.782-.624Zm-1.837 3.683.962.274.004-.016.004-.016-.97-.242Zm-.612 5.83.996.083.004-.041v-.042h-1Zm-.263 7.587.34.94.656-.237.004-.697-1-.006Zm-56.59-.718a92.405 92.405 0 0 0-.267-5.417l-1.993.166c.127 1.518.214 3.283.261 5.298l2-.047Zm-.263-5.334c0-2.496-.206-4.545-.65-6.105l-1.924.548c.372 1.304.574 3.143.574 5.557h2Zm-.642-6.073c-.433-1.736-1.109-3.154-2.099-4.147l-1.416 1.413c.643.644 1.191 1.681 1.575 3.218l1.94-.484Zm-2.025-4.064c-.888-1.113-1.987-2.101-3.287-2.97l-1.111 1.663c1.15.768 2.09 1.621 2.835 2.554l1.563-1.247Zm-3.336-3-8.876-5.217-1.013 1.724 8.876 5.217 1.013-1.724Zm-8.852-5.203c-1.626-1.019-2.664-1.786-3.19-2.313l-1.415 1.412c.698.7 1.905 1.57 3.543 2.596l1.062-1.694Zm-3.065-2.16c-.075-.114-.204-.439-.302-1.122-.092-.652-.143-1.52-.143-2.621h-2c0 1.15.052 2.122.163 2.903.107.748.284 1.446.617 1.947l1.665-1.108Zm-.445-3.743V89.69h-2v2.762h2Zm-.019-2.567.612-3.068-1.961-.392-.612 3.07 1.961.39Zm-.336-2.264c9.351-.3 17.841-1.13 25.705-4.38 7.893-3.262 15.077-8.927 21.9-18.759l-1.644-1.14c-6.637 9.565-13.533 14.956-21.02 18.05-7.515 3.105-15.702 3.931-25.006 4.23l.065 1.999Zm45.96-23.139c6.833 9.847 14.03 15.133 21.935 18.007 7.858 2.856 16.349 3.298 25.661 3.597l.064-1.999c-9.342-.3-17.525-.746-25.041-3.478-7.47-2.715-14.349-7.717-20.975-17.267l-1.643 1.14Zm46.648 20.8.612 3.069 1.961-.391-.612-3.069-1.961.391Zm.592 2.873v2.762h2v-2.762h-2Zm0 2.762c0 1.101-.05 1.97-.143 2.621-.097.684-.226 1.009-.301 1.122l1.665 1.107c.333-.5.51-1.199.616-1.947.112-.78.163-1.753.163-2.903h-2Zm-.32 3.59c-.525.527-1.563 1.295-3.19 2.314l1.062 1.695c1.639-1.027 2.845-1.896 3.544-2.596l-1.416-1.413Zm-3.165 2.3-8.876 5.216 1.013 1.725 8.876-5.217-1.013-1.725Zm-8.925 5.247c-1.3.868-2.4 1.857-3.287 2.97l1.563 1.247c.745-.933 1.686-1.786 2.835-2.554l-1.111-1.663Zm-3.214 2.887c-.99.992-1.665 2.41-2.098 4.147l1.94.484c.383-1.537.932-2.574 1.575-3.219l-1.417-1.412Zm-2.09 4.115c-.444 1.56-.65 3.608-.65 6.104h2c0-2.414.202-4.252.574-5.556l-1.924-.548Zm-.647 6.022c-.176 2.124-.248 4.683-.266 7.663l2 .012c.017-2.964.09-5.462.26-7.51l-1.994-.165Zm.393 6.729c-8.107 2.941-17.17 4.42-27.205 4.42v2c10.23 0 19.53-1.508 27.887-4.54l-.682-1.88Zm-27.205 4.42c-10.985 0-20.875-1.709-29.683-5.108l-.72 1.866c9.07 3.501 19.21 5.242 30.403 5.242v-2Z"
                                mask="url(#a)"
                            />
                            <path
                                stroke="#000"
                                stroke-width="6"
                                d="M22.1 64.51c18.686-.599 33.413-3.31 46.894-22.698C82.475 61.2 97.193 62.378 115.878 62.976M22.1 41.215c18.686-.599 33.413-3.31 46.894-22.698 13.481 19.387 28.199 20.565 46.884 21.164"
                            />
                        </svg>
                    </a>
                </div>
                <div className="flex lg:hidden">
                    <button
                        type="button"
                        onClick={() => setMobileMenuOpen(true)}
                        className="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"
                    >
                        <span className="sr-only">Open main menu</span>
                        <Bars3Icon aria-hidden="true" className="size-6" />
                    </button>
                </div>
                <div className="hidden lg:flex lg:gap-x-12">
                    {navigation.map((item) => (
                        <a
                            key={item.name}
                            href={item.href}
                            className="text-sm/6 font-semibold text-gray-900"
                        >
                            {item.name}
                        </a>
                    ))}
                </div>
                <div className="hidden lg:flex lg:flex-1 lg:justify-end">
                    {auth.user ? (
                        <Link
                            href={route("dashboard")}
                            className="inline-block rounded-sm font-semibold border border-[#19140035] px-5 py-1.5 text-sm/6 leading-normal text-gray-900 hover:border-[#1915014a]"
                        >
                            Dashboard
                        </Link>
                    ) : (
                        <>
                            <Link
                                href={route("login")}
                                className="inline-block rounded-sm font-semibold border border-transparent px-5 py-1.5 mx-2 text-sm/6 leading-normal text-gray-900 hover:border-[#19140035]"
                            >
                                Log in
                            </Link>
                            <Link
                                href={route("register")}
                                className="inline-block rounded-sm font-semibold border border-[#19140035] px-5 py-1.5 text-sm/6 leading-normal text-gray-900 hover:border-[#1915014a] "
                            >
                                Register
                            </Link>
                        </>
                    )}
                </div>
            </nav>
            <Dialog
                open={mobileMenuOpen}
                onClose={setMobileMenuOpen}
                className="lg:hidden"
            >
                <div className="fixed inset-0 z-50" />
                <DialogPanel className="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
                    <div className="flex items-center justify-between">
                        <a href="#" className="-m-1.5 p-1.5">
                            <span className="sr-only">Metisio</span>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 138 129"
                                className="h-12 w-auto"
                            >
                                <path
                                    fill="#F2BC79"
                                    d="M137.979 63.294c0 18.328-6.33 33.671-18.988 46.032-12.659 11.934-29.115 17.901-49.369 17.901-20.253 0-36.92-5.754-50.001-17.262C6.54 98.031 0 82.9 0 64.573 0 46.245 6.33 30.9 18.988 18.54 31.647 6.18 48.103 0 68.356 0c20.254 0 36.921 5.967 50.002 17.901 13.081 11.934 19.621 27.065 19.621 45.393Z"
                                />
                                <mask
                                    id="a"
                                    width="97"
                                    height="67"
                                    x="19.95"
                                    y="61.912"
                                    fill="#000"
                                    maskUnits="userSpaceOnUse"
                                >
                                    <path
                                        fill="#fff"
                                        d="M19.95 61.912h97v67h-97z"
                                    />
                                    <path
                                        fill-rule="evenodd"
                                        d="M39.579 122.052a91.492 91.492 0 0 0-.264-5.357c0-2.455-.204-4.399-.612-5.831-.408-1.637-1.02-2.864-1.837-3.682-.816-1.023-1.836-1.944-3.06-2.762l-8.877-5.217c-1.632-1.023-2.754-1.841-3.366-2.455-.409-.614-.613-2.046-.613-4.296V89.69l.613-3.069c18.654-.599 33.356-3.312 46.814-22.709 13.46 19.397 28.152 20.576 46.806 21.175l.612 3.068v2.762c0 2.25-.204 3.683-.612 4.296-.612.614-1.734 1.433-3.367 2.456l-8.876 5.216c-1.224.819-2.244 1.739-3.06 2.762-.817.819-1.429 2.046-1.837 3.683-.408 1.432-.612 3.375-.612 5.83-.174 2.086-.245 4.615-.263 7.587-8.232 2.987-17.413 4.48-27.546 4.48-11.09 0-21.104-1.725-30.043-5.175Z"
                                        clip-rule="evenodd"
                                    />
                                </mask>
                                <path
                                    fill="#000"
                                    fill-rule="evenodd"
                                    d="M39.579 122.052a91.492 91.492 0 0 0-.264-5.357c0-2.455-.204-4.399-.612-5.831-.408-1.637-1.02-2.864-1.837-3.682-.816-1.023-1.836-1.944-3.06-2.762l-8.877-5.217c-1.632-1.023-2.754-1.841-3.366-2.455-.409-.614-.613-2.046-.613-4.296V89.69l.613-3.069c18.654-.599 33.356-3.312 46.814-22.709 13.46 19.397 28.152 20.576 46.806 21.175l.612 3.068v2.762c0 2.25-.204 3.683-.612 4.296-.612.614-1.734 1.433-3.367 2.456l-8.876 5.216c-1.224.819-2.244 1.739-3.06 2.762-.817.819-1.429 2.046-1.837 3.683-.408 1.432-.612 3.375-.612 5.83-.174 2.086-.245 4.615-.263 7.587-8.232 2.987-17.413 4.48-27.546 4.48-11.09 0-21.104-1.725-30.043-5.175Z"
                                    clip-rule="evenodd"
                                />
                                <path
                                    fill="#000"
                                    d="m20.95 89.69-.49-.098-.01.048v.05h.5Zm.5 2.762V89.69h-1v2.762h1Zm-.01-2.664.613-3.07-.98-.195-.613 3.069.98.196Zm18.139 32.264-1 .024.016.668.624.241.36-.933Zm-.264-5.357h-1v.041l.003.042.997-.083Zm-.612-5.831-.97.242.004.016.004.016.962-.274Zm-1.837-3.682-.781.623.034.044.04.039.707-.706Zm-3.06-2.762.555-.832-.024-.016-.025-.014-.506.862Zm-8.877-5.217-.53.847.011.008.013.007.506-.862Zm-3.366-2.455-.833.554.055.082.07.07.708-.706Zm-.613-7.058-.98-.196-.02.097v.099h1Zm.613-3.069-.032-1-.794.026-.155.778.98.196Zm46.814-22.709.822-.57-.822-1.184-.821 1.184.822.57Zm46.806 21.175.981-.196-.155-.778-.794-.026-.032 1Zm.612 3.068h1v-.098l-.019-.097-.981.195Zm-.612 7.058.708.707.07-.07.055-.083-.833-.553Zm-3.367 2.456.507.862.012-.008.012-.007-.531-.848Zm-8.876 5.216-.506-.862-.025.015-.024.016.555.831Zm-3.06 2.762.708.706.039-.039.034-.043-.782-.624Zm-1.837 3.683.962.274.004-.016.004-.016-.97-.242Zm-.612 5.83.996.083.004-.041v-.042h-1Zm-.263 7.587.34.94.656-.237.004-.697-1-.006Zm-56.59-.718a92.405 92.405 0 0 0-.267-5.417l-1.993.166c.127 1.518.214 3.283.261 5.298l2-.047Zm-.263-5.334c0-2.496-.206-4.545-.65-6.105l-1.924.548c.372 1.304.574 3.143.574 5.557h2Zm-.642-6.073c-.433-1.736-1.109-3.154-2.099-4.147l-1.416 1.413c.643.644 1.191 1.681 1.575 3.218l1.94-.484Zm-2.025-4.064c-.888-1.113-1.987-2.101-3.287-2.97l-1.111 1.663c1.15.768 2.09 1.621 2.835 2.554l1.563-1.247Zm-3.336-3-8.876-5.217-1.013 1.724 8.876 5.217 1.013-1.724Zm-8.852-5.203c-1.626-1.019-2.664-1.786-3.19-2.313l-1.415 1.412c.698.7 1.905 1.57 3.543 2.596l1.062-1.694Zm-3.065-2.16c-.075-.114-.204-.439-.302-1.122-.092-.652-.143-1.52-.143-2.621h-2c0 1.15.052 2.122.163 2.903.107.748.284 1.446.617 1.947l1.665-1.108Zm-.445-3.743V89.69h-2v2.762h2Zm-.019-2.567.612-3.068-1.961-.392-.612 3.07 1.961.39Zm-.336-2.264c9.351-.3 17.841-1.13 25.705-4.38 7.893-3.262 15.077-8.927 21.9-18.759l-1.644-1.14c-6.637 9.565-13.533 14.956-21.02 18.05-7.515 3.105-15.702 3.931-25.006 4.23l.065 1.999Zm45.96-23.139c6.833 9.847 14.03 15.133 21.935 18.007 7.858 2.856 16.349 3.298 25.661 3.597l.064-1.999c-9.342-.3-17.525-.746-25.041-3.478-7.47-2.715-14.349-7.717-20.975-17.267l-1.643 1.14Zm46.648 20.8.612 3.069 1.961-.391-.612-3.069-1.961.391Zm.592 2.873v2.762h2v-2.762h-2Zm0 2.762c0 1.101-.05 1.97-.143 2.621-.097.684-.226 1.009-.301 1.122l1.665 1.107c.333-.5.51-1.199.616-1.947.112-.78.163-1.753.163-2.903h-2Zm-.32 3.59c-.525.527-1.563 1.295-3.19 2.314l1.062 1.695c1.639-1.027 2.845-1.896 3.544-2.596l-1.416-1.413Zm-3.165 2.3-8.876 5.216 1.013 1.725 8.876-5.217-1.013-1.725Zm-8.925 5.247c-1.3.868-2.4 1.857-3.287 2.97l1.563 1.247c.745-.933 1.686-1.786 2.835-2.554l-1.111-1.663Zm-3.214 2.887c-.99.992-1.665 2.41-2.098 4.147l1.94.484c.383-1.537.932-2.574 1.575-3.219l-1.417-1.412Zm-2.09 4.115c-.444 1.56-.65 3.608-.65 6.104h2c0-2.414.202-4.252.574-5.556l-1.924-.548Zm-.647 6.022c-.176 2.124-.248 4.683-.266 7.663l2 .012c.017-2.964.09-5.462.26-7.51l-1.994-.165Zm.393 6.729c-8.107 2.941-17.17 4.42-27.205 4.42v2c10.23 0 19.53-1.508 27.887-4.54l-.682-1.88Zm-27.205 4.42c-10.985 0-20.875-1.709-29.683-5.108l-.72 1.866c9.07 3.501 19.21 5.242 30.403 5.242v-2Z"
                                    mask="url(#a)"
                                />
                                <path
                                    stroke="#000"
                                    stroke-width="6"
                                    d="M22.1 64.51c18.686-.599 33.413-3.31 46.894-22.698C82.475 61.2 97.193 62.378 115.878 62.976M22.1 41.215c18.686-.599 33.413-3.31 46.894-22.698 13.481 19.387 28.199 20.565 46.884 21.164"
                                />
                            </svg>
                        </a>
                        <button
                            type="button"
                            onClick={() => setMobileMenuOpen(false)}
                            className="-m-2.5 rounded-md p-2.5 text-gray-700"
                        >
                            <span className="sr-only">Close menu</span>
                            <XMarkIcon aria-hidden="true" className="size-6" />
                        </button>
                    </div>
                    <div className="mt-6 flow-root">
                        <div className="-my-6 divide-y divide-gray-500/10">
                            <div className="space-y-2 py-6">
                                {navigation.map((item) => (
                                    <a
                                        key={item.name}
                                        href={item.href}
                                        className="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
                                    >
                                        {item.name}
                                    </a>
                                ))}
                            </div>
                            <div className="py-6">
                                {auth.user ? (
                                    <Link
                                        href={route("dashboard")}
                                        className="-mx-3 block rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
                                    >
                                        Dashboard
                                    </Link>
                                ) : (
                                    <>
                                        <Link
                                            href={route("login")}
                                            className="-mx-3 block rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
                                        >
                                            Log in
                                        </Link>
                                        <Link
                                            href={route("register")}
                                            className="-mx-3 block rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
                                        >
                                            Register
                                        </Link>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                </DialogPanel>
            </Dialog>
        </header>
    );
}
